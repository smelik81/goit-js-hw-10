{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst LS_KEY = \"show date\";\nconst inputEl = document.querySelector('#datetime-picker');\nconst btnElStart = document.querySelector('button[data-start]');\nbtnElStart.disabled = true;\nconst dataDays = document.querySelector('[data-days]');\nconst dataHours = document.querySelector('[data-hours]');\nconst dataMinutes = document.querySelector('[data-minutes]');\nconst dataSeconds = document.querySelector('[data-seconds]');\n\nlet userSelectedDate;\nlet setIntervalId = null;\nuserSelectedDate = btnElStart.disabled;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] <= Date.now()) {\n          iziToast.error({\n            title: 'Error',\n            titleSize: '18',\n            titleColor: 'black',\n            message: 'Please choose a date in the future',\n            position: 'topRight',\n            messageColor: 'white',\n            messageSize: '18',\n            backgroundColor: 'red',\n            maxWidth: '380',\n            transitionIn: 'fadeInLeft',\n            timeout: '3000',\n          });\n            btnElStart.disabled = true;\n            btnElStart.classList.add('not-show');\n        } else {\n            btnElStart.disabled = false;\n            btnElStart.classList.remove('not-show');\n            userSelectedDate = selectedDates[0];\n      }\n  },\n};\n\nflatpickr(inputEl, options);\n\n\n\n\nbtnElStart.addEventListener('click', showCountdawn);\nfunction showCountdawn() {\n    btnElStart.disabled = true;\n     btnElStart.classList.add('not-show');\n    inputEl.disabled = true;\n    \n    \n    setIntervalId = setInterval(() => {\n        const currentDate = Date.now();\n        const differenceTime = userSelectedDate - currentDate;\n        startCountdawn(convertMs(differenceTime));\n        console.log(differenceTime);\n        if (differenceTime < 1000) {\n            clearInterval(setIntervalId); \n            btnElStart.disabled = false;\n             btnElStart.classList.remove('not-show');\n            inputEl.disabled = false;\n        } \n    }, 1000);\n};\n\n\nfunction startCountdawn({ days, hours, minutes, seconds }) {\n    dataDays.textContent = days;\n    dataHours.textContent = hours;\n    dataMinutes.textContent = minutes;\n    dataSeconds.textContent = seconds;\n}\n\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n};\n\nfunction convertMs(ms) {\n  const second = 1000; // 1000\n  const minute = second * 60; // 60 000\n  const hour = minute * 60; // 3 600 000\n  const day = hour * 24; // 84 400 000\n\n  \n  const days = addLeadingZero(Math.floor(ms / day));\n  const hours = addLeadingZero(Math.floor((ms % day) / hour));\n  const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n  const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n  return { days, hours, minutes, seconds };\n};\n\n\n/* console.log(convertMs(2000)); \nconsole.log(convertMs(140000)); \nconsole.log(convertMs(24140000)); \n */"],"names":["inputEl","btnElStart","dataDays","dataHours","dataMinutes","dataSeconds","userSelectedDate","setIntervalId","options","selectedDates","iziToast","flatpickr","showCountdawn","currentDate","differenceTime","startCountdawn","convertMs","days","hours","minutes","seconds","addLeadingZero","value","ms"],"mappings":"sGAOA,MAAMA,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAa,SAAS,cAAc,oBAAoB,EAC9DA,EAAW,SAAW,GACtB,MAAMC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EACAC,EAAgB,KACpBD,EAAmBL,EAAW,SAE9B,MAAMO,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CACfA,EAAc,CAAC,GAAK,KAAK,IAAG,GAC9BC,EAAS,MAAM,CACb,MAAO,QACP,UAAW,KACX,WAAY,QACZ,QAAS,qCACT,SAAU,WACV,aAAc,QACd,YAAa,KACb,gBAAiB,MACjB,SAAU,MACV,aAAc,aACd,QAAS,MACrB,CAAW,EACCT,EAAW,SAAW,GACtBA,EAAW,UAAU,IAAI,UAAU,IAEnCA,EAAW,SAAW,GACtBA,EAAW,UAAU,OAAO,UAAU,EACtCK,EAAmBG,EAAc,CAAC,EAE3C,CACH,EAEAE,EAAUX,EAASQ,CAAO,EAK1BP,EAAW,iBAAiB,QAASW,CAAa,EAClD,SAASA,GAAgB,CACrBX,EAAW,SAAW,GACrBA,EAAW,UAAU,IAAI,UAAU,EACpCD,EAAQ,SAAW,GAGnBO,EAAgB,YAAY,IAAM,CAC9B,MAAMM,EAAc,KAAK,MACnBC,EAAiBR,EAAmBO,EAC1CE,EAAeC,EAAUF,CAAc,CAAC,EACxC,QAAQ,IAAIA,CAAc,EACtBA,EAAiB,MACjB,cAAcP,CAAa,EAC3BN,EAAW,SAAW,GACrBA,EAAW,UAAU,OAAO,UAAU,EACvCD,EAAQ,SAAW,GAE1B,EAAE,GAAI,CACX,CAGA,SAASe,EAAe,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACvDlB,EAAS,YAAce,EACvBd,EAAU,YAAce,EACxBd,EAAY,YAAce,EAC1Bd,EAAY,YAAce,CAC9B,CAGA,SAASC,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASN,EAAUO,EAAI,CAOrB,MAAMN,EAAOI,EAAe,KAAK,MAAME,EAAK,KAAG,CAAC,EAC1CL,EAAQG,EAAe,KAAK,MAAOE,EAAK,MAAO,IAAI,CAAC,EACpDJ,EAAUE,EAAe,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEH,EAAUC,EAAe,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}